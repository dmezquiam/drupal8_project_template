diff --git a/docroot/modules/statistics/statistics.module b/docroot/modules/statistics/statistics.module
index b2561d2..21571bb 100644
--- a/docroot/modules/statistics/statistics.module
+++ b/docroot/modules/statistics/statistics.module
@@ -56,8 +56,8 @@ function statistics_exit() {
   // module, it is likely to also have 'statistics_enable_access_log' enabled,
   // in which case we need to bootstrap to the session phase anyway.
   drupal_bootstrap(DRUPAL_BOOTSTRAP_VARIABLES);
-
   if (variable_get('statistics_count_content_views', 0) && !variable_get('statistics_count_content_views_ajax', 0)) {
+    die('We are counting content views.');
     // We are counting content views.
     if (arg(0) == 'node' && is_numeric(arg(1)) && arg(2) == NULL) {
       // A node has been viewed, so update the node's counters.
@@ -114,7 +114,7 @@ function statistics_permission() {
 /**
  * Implements hook_node_view().
  */
-function statistics_node_view($node, $view_mode) {
+function statistics_node_view($node, $view_mode, $langcode) {
   // Attach Ajax node count statistics if configured.
   if (variable_get('statistics_count_content_views', 0) && variable_get('statistics_count_content_views_ajax', 0)) {
     if (!empty($node->nid) && $view_mode == 'full' && node_is_page($node) && empty($node->in_preview)) {
@@ -122,7 +122,11 @@ function statistics_node_view($node, $view_mode) {
       $node->content['#attached']['js'][$statistics] = array(
         'scope' => 'footer',
       );
-      $settings = array('data' => array('nid' => $node->nid), 'url' => url(drupal_get_path('module', 'statistics') . '/statistics.php'));
+      global $base_url;
+      $settings = array(
+                    'data' => array('nid' => $node->nid),
+                    'url' => $base_url . '/' . drupal_get_path('module', 'statistics') . '/statistics.php',
+                  );
       $node->content['#attached']['js'][] = array(
         'data' => array('statistics' => $settings),
         'type' => 'setting',
