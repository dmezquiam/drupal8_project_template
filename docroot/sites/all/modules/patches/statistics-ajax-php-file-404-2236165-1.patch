diff --git a/modules/statistics/statistics.module b/modules/statistics/statistics.module
index f665a14..0a04a5f 100644
--- a/modules/statistics/statistics.module
+++ b/modules/statistics/statistics.module
@@ -114,7 +114,7 @@ function statistics_permission() {
 /**
  * Implements hook_node_view().
  */
-function statistics_node_view($node, $view_mode) {
+function statistics_node_view($node, $view_mode, $langcode) {
   // Attach Ajax node count statistics if configured.
   if (variable_get('statistics_count_content_views', 0) && variable_get('statistics_count_content_views_ajax', 0)) {
     if (!empty($node->nid) && $view_mode == 'full' && node_is_page($node) && empty($node->in_preview)) {
@@ -123,7 +123,11 @@ function statistics_node_view($node, $view_mode) {
           'scope' => 'footer'
         ),
       );
-      $settings = array('data' => array('nid' => $node->nid), 'url' => url(drupal_get_path('module', 'statistics') . '/statistics.php'));
+      global $base_url;
+      $settings = array(
+                    'data' => array('nid' => $node->nid), 
+                    'url' => $base_url . '/' . drupal_get_path('module', 'statistics') . '/statistics.php',
+                  );
       $node->content['#attached']['js'][] = array(
         'data' => array('statistics' => $settings),
         'type' => 'setting',
